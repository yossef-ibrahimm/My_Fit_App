*{
    padding: 0;
    margin: 0;
    box-sizing: border-box;
}
.modal-backdrop{
    height: 100vh;
}
        /* --- Base & Utility Styles --- */
        .container {
          max-width: 1280px;
          margin: 0 auto;
          padding: 0 16px;
        }
        .spacing-8 { margin-top: 32px; }
        .spacing-y-3 > * + * { margin-top: 12px; }
        .spacing-y-4 > * + * { margin-top: 16px; }
        .spacing-y-5 > * + * { margin-top: 20px; }
        .spacing-top-4 { margin-top: 16px; }
        .spacing-top-6 { margin-top: 24px; }
        .spacing-bottom-2 { margin-bottom: 8px; }
        .spacing-bottom-3 { margin-bottom: 12px; }
        .spacing-bottom-4 { margin-bottom: 16px; }
        .spacing-bottom-6 { margin-bottom: 24px; }
        .spacing-bottom-8 { margin-bottom: 32px; }
        .spacing-vertical-4 { padding: 16px 0; }
        .spacing-left-3 > * + * { margin-left: 12px; }
        
        .border-bottom { border-bottom: 1px solid #E5E7EB; }
        .border-bottom-light { border-bottom: 1px solid #F3F4F6; }
        
        .capitalize { text-transform: capitalize; }
        .text-xs { font-size: 0.75rem; }
        .text-sm { font-size: 0.875rem; }
        .text-base { font-size: 1rem; }
        .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.25rem; }
        .text-3xl { font-size: 1.875rem; }
        .text-4xl { font-size: 2.25rem; }
        
        .font-extrabold { font-weight: 800; }
        .font-bold { font-weight: 700; }
        .font-semibold { font-weight: 600; }
        .font-medium { font-weight: 500; }
        
        .text-white { color: white; }
        .text-gray-900 { color: #111827; }
        .text-gray-800 { color: #1F2937; }
        .text-gray-700 { color: #374151; }
        .text-gray-600 { color: #4B5563; }
        .text-gray-medium { color: #6B7280; } /* Gray-500/600 */
        .text-gray-light { color: #9CA3AF; } /* Gray-400 */
        
        .text-blue { color: #3B82F6; }
        .text-blue-dark { color: #1D4ED8; }
        .text-green { color: #10B981; }
        .text-green-dark { color: #059669; }
        .text-yellow { color: #F59E0B; }
        .text-red { color: #EF4444; }
        .text-purple { color: #9333EA; }

        .flex-align-center { display: flex; align-items: center; }
        .flex-justify-between { display: flex; justify-content: space-between; align-items: center; }
        .flex-justify-around { display: flex; justify-content: space-around; }
        
        .grid-responsive-2 {
          display: grid;
          grid-template-columns: 1fr;
          gap: 24px;
        }
        .grid-responsive-2-small {
          display: grid;
          grid-template-columns: 1fr;
          gap: 16px;
        }
        .grid-responsive-3 {
          display: grid;
          grid-template-columns: 1fr;
          gap: 24px;
        }
        .grid-responsive-3-small {
          display: grid;
          grid-template-columns: 1fr;
          gap: 16px;
        }
        .grid-responsive-4 {
          display: grid;
          grid-template-columns: 1fr;
          gap: 24px;
        }
        @media (min-width: 640px) { /* sm */
          .grid-responsive-2-small { grid-template-columns: repeat(2, 1fr); }
          .grid-responsive-3-small { grid-template-columns: repeat(3, 1fr); }
          .grid-responsive-4 { grid-template-columns: repeat(2, 1fr); }
          .grid-responsive-3 { grid-template-columns: repeat(3, 1fr); }
        }
        @media (min-width: 768px) { /* md */
          .grid-responsive-2 { grid-template-columns: repeat(2, 1fr); }
        }
        @media (min-width: 1024px) { /* lg */
          .grid-responsive-4 { grid-template-columns: repeat(4, 1fr); }
        }

        .max-width-5xl {
            max-width: 64rem;
            margin-left: auto;
            margin-right: auto;
        }
        .full-span-mobile {
            grid-column: 1 / -1;
        }

        /* --- Header Styles --- */
        .header {
          background: linear-gradient(to right, #2563EB, #1E40AF); /* from-blue-600 to-blue-800 */
          color: white;
          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
          position: sticky;
          top: 0;
          z-index: 10;
        }
        .header-content {
          display: flex;
          align-items: center;
          justify-content: space-between;
          flex-wrap: wrap;
          padding: 12px 0;
        }
        .logo {
          font-size: 1.5rem;
          font-weight: 800;
          display: flex;
          align-items: center;
          letter-spacing: 0.05em;
        }
        .navbar {
          display: flex;
          gap: 4px;
          overflow-x: auto;
          padding-bottom: 4px;
        }
        .nav-button {
          padding: 8px 16px;
          font-size: 0.875rem;
          border-radius: 9999px;
          display: flex;
          align-items: center;
          gap: 8px;
          transition: all 200ms ease-in-out;
          white-space: nowrap;
          border: none;
          cursor: pointer;
        }
        .nav-button-inactive {
          background-color: transparent;
          color: white;
        }
        .nav-button-inactive:hover {
          background-color: #1D4ED8; /* hover:bg-blue-700 */
        }
        .nav-button-active {
          background-color: white;
          color: #1E40AF;
          font-weight: 700;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        /* New responsive nav styles */
        .nav-wrap { display: flex; align-items: center; gap: 12px; }
        .nav-toggle {
          display: none;
          background: transparent;
          border: none;
          color: white;
          padding: 8px;
          border-radius: 8px;
          cursor: pointer;
        }
        .navbar-desktop { display: flex; gap: 8px; }

        /* Mobile menu panel */
        .mobile-menu {
          position: absolute;
          left: 16px;
          right: 16px;
          top: 64px;
          background: white;
          border-radius: 12px;
          padding: 12px;
          box-shadow: 0 20px 50px rgba(2,6,23,0.2);
          display: flex;
          flex-direction: column;
          gap: 8px;
          z-index: 40;
        }
        .mobile-link {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 10px 12px;
          border-radius: 8px;
          background: transparent;
          border: none;
          cursor: pointer;
          font-weight: 600;
          color: #1F2937;
        }
        .mobile-link:hover { background: #F3F4F6; }
        .mobile-link-active { background: #EFF6FF; color: #1E40AF; }

        /* Hide desktop nav and show toggle on small screens */
        @media (max-width: 768px) {
          .navbar-desktop { display: none; }
          .nav-toggle { display: inline-flex; }
        }

        /* --- Toast/Status Message --- */
        .toast {
          position: fixed;
          bottom: 20px;
          right: 20px;
          padding: 16px;
          border-radius: 12px;
          color: white;
          box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
          display: flex;
          align-items: center;
          gap: 12px;
          transition: opacity 300ms ease-in-out;
          z-index: 50;
        }
        .toast-success { background-color: #047857; } /* bg-green-600 */
        .toast-error { background-color: #DC2626; } /* bg-red-600 */
        .toast-message { font-weight: 600; }

        /* --- Card Styles --- */
        .card {
          background-color: white;
          border-radius: 12px;
          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
          padding: 24px;
          border: 1px solid #F3F4F6;
        }
        .card-blue-border { border: 1px solid #DBEAFE; } /* border-blue-100 */
        .card-green-border { border: 1px solid #D1FAE5; } /* border-green-100 */
        .card-title-xl { font-size: 1.875rem; font-weight: 700; color: #1F2937; margin-bottom: 32px; padding-bottom: 12px; }
        .card-title-lg { font-size: 1.25rem; font-weight: 700; color: #1F2937; margin-bottom: 16px; padding-bottom: 8px; }
        .card-title-md { font-size: 1.125rem; font-weight: 700; color: #1F2937; margin-bottom: 16px; }


        /* --- Macro Card --- */
        .macro-card {
          background-color: white;
          border-radius: 12px;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
          padding: 20px;
          border: 1px solid #F3F4F6;
          transition: box-shadow 300ms ease-in-out;
        }
        .macro-card:hover {
          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        .macro-card-title { font-size: 1.125rem; font-weight: 600; color: #4B5563; margin-bottom: 4px; }
        .macro-card-values { display: flex; align-items: baseline; gap: 8px; margin-bottom: 12px; }
        .macro-card-current { font-size: 2.25rem; font-weight: 800; color: #111827; }
        .macro-card-target { font-size: 1.125rem; color: #6B7280; }
        .progress-bar-bg { width: 100%; background-color: #E5E7EB; border-radius: 9999px; height: 10px; }
        .progress-bar-fill { height: 10px; border-radius: 9999px; transition: all 500ms ease-in-out; }
        .macro-card-percentage { font-size: 0.875rem; margin-top: 8px; font-weight: 500; }

        /* --- Home Page Specifics --- */
        .page-section-container {
            padding: 24px 16px;
            max-width: 1280px;
            margin: 0 auto;
        }
        .welcome-banner {
          background: linear-gradient(to bottom right, #EFF6FF, #EEF2FF); /* from-blue-50 to-indigo-100 */
          border-radius: 16px;
          padding: 32px;
          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
          margin-bottom: 32px;
        }
        .welcome-title { font-size: 1.875rem; font-weight: 800; color: #111827; margin-bottom: 8px; }
        .welcome-text { font-size: 1.125rem; color: #374151; }
        .info-item { display: flex; justify-content: space-between; align-items: center; padding-bottom: 8px; border-bottom: 1px solid #F3F4F6; }
        .info-item:last-child { border-bottom: none; }

        .quick-action-button {
          padding: 16px;
          border-radius: 12px;
          color: white;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
          transition: all 200ms ease-in-out;
          transform: scale(1);
          border: none;
          cursor: pointer;
          text-align: center;
        }
        .quick-action-button:hover {
          box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
          transform: scale(1.02);
        }
        .quick-action-label { font-size: 0.875rem; font-weight: 600; }

        /* --- Calculator Page Specifics --- */
        .input-label { display: block; font-size: 0.875rem; font-weight: 500; color: #374151; margin-bottom: 4px; }
        .input-field {
          width: 100%;
          padding: 10px;
          border: 1px solid #D1D5DB;
          border-radius: 8px;
          transition: border-color 150ms ease-in-out, box-shadow 150ms ease-in-out;
        }
        .input-field:focus {
          outline: none;
          border-color: #3B82F6;
          box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        .calculate-button {
          margin-top: 32px;
          width: 100%;
          background-color: #2563EB; /* blue-600 */
          color: white;
          padding: 12px 16px;
          border-radius: 12px;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
          font-weight: 600;
          font-size: 1.125rem;
          transition: background-color 150ms ease-in-out, transform 150ms ease-in-out;
          border: none;
          cursor: pointer;
        }
        .calculate-button:hover {
          background-color: #1D4ED8; /* blue-700 */
          transform: scale(1.005);
        }
        
        .apply-button {
          margin-top: 24px;
          width: 100%;
          background-color: #059669; /* green-600 */
          color: white;
          padding: 12px 16px;
          border-radius: 12px;
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
          font-weight: 600;
          font-size: 1.125rem;
          transition: background-color 150ms ease-in-out, transform 150ms ease-in-out;
          border: none;
          cursor: pointer;
        }
        .apply-button:hover {
          background-color: #047857; /* green-700 */
          transform: scale(1.005);
        }

        .result-box {
          padding: 16px;
          border-radius: 8px;
          text-align: center;
          box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        .result-box-blue { background-color: #DBEAFE; color: #1E40AF; } /* blue-100/800 */
        .result-box-green { background-color: #D1FAE5; color: #065F46; } /* green-100/800 */
        .result-box-purple { background-color: #F3E8FF; color: #6B21A8; } /* purple-100/800 */
        
        .macro-target-summary {
          padding: 24px;
          background-color: #F9FAFB; /* gray-50 */
          border-radius: 8px;
          border: 1px solid #E5E7EB;
        }
        .macro-result-item { padding: 8px; text-align: center; }
        .macro-result-value { font-size: 2.25rem; font-weight: 800; }
        .macro-result-label { font-size: 0.875rem; font-weight: 500; color: #4B5563; }

        /* --- Foods Page Specifics --- */
        .food-filter-container {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-bottom: 24px;
        }
        @media (min-width: 640px) {
            .food-filter-container {
                flex-direction: row;
            }
        }
        .food-search-input {
            flex: 1;
            padding: 12px;
            border: 1px solid #D1D5DB;
            border-radius: 8px;
            transition: border-color 150ms ease-in-out;
        }
        .food-search-input:focus {
            outline: none;
            border-color: #3B82F6;
        }
        .food-category-select {
            padding: 12px;
            border: 1px solid #D1D5DB;
            border-radius: 8px;
            width: 100%;
        }
        @media (min-width: 640px) {
            .food-category-select {
                width: auto;
            }
        }

        .table-container {
            overflow-x: auto;
            border-radius: 8px;
            border: 1px solid #E5E7EB;
        }
        .food-table {
            width: 100%;
            font-size: 0.875rem;
            border-collapse: collapse;
        }
        .food-table-header {
            background-color: #EFF6FF; /* blue-50 */
            border-bottom: 1px solid #BFDBFE; /* blue-200 */
            position: sticky;
            top: 0;
        }
        .table-cell {
            padding: 16px;
            min-width: 80px;
        }
        .min-w-150 { min-width: 150px; }
        .table-cell-left { text-align: left; }
        .table-cell-right { text-align: right; }
        .table-row-hover { border-top: 1px solid #E5E7EB; transition: background-color 150ms; }
        .table-row-hover:hover { background-color: #F9FAFB; } /* gray-50 */
        
        /* --- My Day/Workout Specifics --- */
        .nutrition-log-header {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid #E5E7EB;
        }
        @media (min-width: 640px) {
            .nutrition-log-header {
                flex-direction: row;
                align-items: center;
            }
        }
        .date-input {
            padding: 8px;
            border: 1px solid #D1D5DB;
            border-radius: 8px;
            font-size: 1.125rem;
            transition: border-color 150ms ease-in-out;
        }
        .date-input:focus {
            outline: none;
            border-color: #3B82F6;
        }
        
        .meal-section {
            padding: 20px;
        }
        .add-food-button {
            padding: 6px;
            color: white;
            background-color: #3B82F6; /* blue-500 */
            border-radius: 9999px;
            transition: all 150ms ease-in-out;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transform: scale(1);
            border: none;
            cursor: pointer;
        }
        .add-food-button:hover {
            background-color: #2563EB; /* blue-600 */
            transform: scale(1.05);
        }
        
        .log-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background-color: #F9FAFB; /* gray-50 */
            border-radius: 8px;
            border: 1px solid #E5E7EB;
        }
        .delete-log-button {
            padding: 4px;
            color: #DC2626; /* red-600 */
            transition: background-color 150ms;
            border-radius: 9999px;
            border: none;
            background-color: transparent;
            cursor: pointer;
        }
        .delete-log-button:hover {
            background-color: #FEE2E2; /* red-100 */
        }
        
        .add-workout-button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 12px 16px;
            margin-top: 16px;
            background-color: #10B981; /* green-500 */
            color: white;
            border-radius: 12px;
            font-weight: 600;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: background-color 150ms;
            border: none;
            cursor: pointer;
        }
        .add-workout-button:hover {
            background-color: #059669; /* green-600 */
        }
        
        .workout-log-item {
            padding: 16px;
        }

        /* --- Modal Styles --- */
        .modal-backdrop {
            position: fixed;
            inset: 0;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
            z-index: 50;
            backdrop-filter: blur(4px);
        }
        .modal-content {
            background-color: white;
            border-radius: 12px;
            padding: 24px;
            max-width: 512px;
            width: 100%;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            transform: scale(1);
            opacity: 1;
            transition: all 300ms ease-in-out;
        }
        .modal-title { 
            font-size: 1.5rem; 
            font-weight: 700; 
            margin-bottom: 20px; 
            padding-bottom: 12px; 
        }
        .input-field-lg {
            width: 100%;
            padding: 12px;
            border: 1px solid #D1D5DB;
            border-radius: 8px;
            transition: border-color 150ms ease-in-out;
        }
        .input-field-lg:focus {
            outline: none;
            border-color: #3B82F6;
        }

        .calc-summary-box {
            padding: 16px;
            background-color: #EFF6FF; /* blue-50 */
            border-radius: 8px;
            border: 1px solid #BFDBFE; /* blue-200 */
        }

        .cancel-button {
            padding: 10px 20px;
            border-radius: 8px;
            border: 1px solid #D1D5DB;
            background-color: white;
            transition: background-color 150ms;
            font-weight: 500;
            cursor: pointer;
        }
        .cancel-button:hover {
            background-color: #F3F4F6; /* gray-100 */
        }
        .log-button {
            padding: 10px 20px;
            border-radius: 8px;
            background-color: #2563EB; /* blue-600 */
            color: white;
            transition: background-color 150ms;
            font-weight: 600;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border: none;
            cursor: pointer;
        }
        .log-button:hover {
            background-color: #1D4ED8; /* blue-700 */
        }
        .log-button-green {
            background-color: #059669; /* green-600 */
        }
        .log-button-green:hover {
            background-color: #047857; /* green-700 */
        }

        /* --- Analytics Page Specifics --- */
        .chart-card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            padding: 24px;
            border: 1px solid #F3F4F6;
            height: 400px; /* Fixed height for charts */
            overflow: hidden;
        }
        /* --- Motion & Animation Enhancements --- */
        :root {
          --anim-fast: 160ms;
          --anim-base: 240ms;
          --anim-smooth: 360ms;
        }

        /* Page content entrance */
        .container-main { animation: contentFade var(--anim-smooth) ease both; }

        @keyframes contentFade {
          from { opacity: 0; transform: translateY(6px); }
          to { opacity: 1; transform: translateY(0); }
        }

        /* Cards lift */
        .card, .chart-card, .macro-card, .result-box {
          transition: transform var(--anim-base) ease, box-shadow var(--anim-base) ease;
          will-change: transform;
        }
        .card:hover, .chart-card:hover, .macro-card:hover {
          transform: translateY(-8px);
          box-shadow: 0 18px 30px -10px rgba(2,6,23,0.15);
        }

        /* Buttons micro-interactions */
        .nav-button, .quick-action-button, .add-workout-button, .log-button, .calculate-button, .apply-button {
          transition: transform var(--anim-fast) ease, box-shadow var(--anim-fast) ease, background-color var(--anim-fast) ease;
        }
        .nav-button:hover { transform: translateY(-2px) scale(1.02); }
        .quick-action-button:hover { transform: translateY(-4px) scale(1.02); }

        /* Pop animation for active nav when it becomes active */
        @keyframes navPop {
          0% { transform: scale(.98); }
          60% { transform: scale(1.06); }
          100% { transform: scale(1); }
        }
        .nav-button-active { animation: navPop var(--anim-base) ease; }

        /* Modal entrance */
        .modal-backdrop { animation: backdropFade var(--anim-base) ease both; }
        .modal-content { animation: modalIn var(--anim-base) cubic-bezier(.2,.9,.2,1) both; }

        @keyframes backdropFade {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes modalIn {
          from { transform: translateY(12px) scale(.98); opacity: 0; }
          to { transform: translateY(0) scale(1); opacity: 1; }
        }

        /* Mobile menu slide */
        .mobile-menu { animation: slideDown var(--anim-base) cubic-bezier(.2,.9,.2,1) both; }
        @keyframes slideDown {
          from { transform: translateY(-6px) scale(.99); opacity: 0; }
          to { transform: translateY(0) scale(1); opacity: 1; }
        }

        /* Toast slide-in */
        .toast { transform: translateY(14px); opacity: 0; animation: toastIn var(--anim-fast) ease forwards; }
        @keyframes toastIn {
          to { transform: translateY(0); opacity: 1; }
        }

        /* subtle progress bar animation already has transition, add shimmer on load */
        .progress-bar-fill { transition: width 700ms cubic-bezier(.2,.9,.2,1), background-color var(--anim-fast); }

        /* small accessibility focus styles */
        .nav-button:focus, .mobile-link:focus, .log-button:focus, .calculate-button:focus { outline: 3px solid rgba(59,130,246,0.18); outline-offset: 2px; }

      